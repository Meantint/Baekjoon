---
title: "프로그래머스 - 추석 트래픽"
date: 2020-08-30T13:06:04+09:00
categories:
- Programmers
tags:
- Programmers
- 프로그래머스
- 추석 트래픽
draft: false
---

[[프로그래머스](https://programmers.co.kr/learn/courses/30/lessons/17676) - [추석 트래픽](https://programmers.co.kr/learn/courses/30/lessons/17676)]

&nbsp;처음 풀었을 때 시간을 많이 들였는데도 예외케이스들을 생각하니 너무 복잡해서 풀지 못하고 시간이 꽤 흐른 후 다시 풀게 되었는데 어렵지 않게 풀었다. 하나의 생각에 너무 묶여있어서 못 풀었던것 같다.

My Programmers Code : [https://github.com/Meantint/Programmers](https://github.com/Meantint/Programmers)

<hr>

# 풀이

- `changeSec` : 처리가 끝난 시간, `changeSec_start` : 처리가 시작된 시간

- 처음에 `double type`으로 풀었으나 소수점 부분의 미세한 오차 때문에 답이 제대로 출력되지 않는 경우가 있어서 `0.001s`의 단위를 1로 바꿔주는 작업(모두 1000씩 곱함. `int type`이 됨)을 해주었다.

- 끝 부분을 기준으로만 해도 최대값을 구할 수 있기 때문에 0번째 index부터 순서대로 탐색하면서 최대값을 갱신해 주었다.

- 끝 부분 사이 간격이 4초를 넘게되면 처리시간이 최대값이어도 만나지 않기 때문에 `break`해주었다.

- `j번째 응답시작시간` <= `i번째 응답완료시간 + 0.999s`라면 `++cnt`를 해준다.

- 이전까지의 최대값 `answer`보다 현재 최대값 `cnt`가 더 크다면 `answer`를 `cnt`로 바꿔준다.
  
<hr>

# Code
```C++
#include <algorithm>
#include <iostream>
#include <string>
#include <vector>

using namespace std;

int solution(vector<string> lines)
{
    int answer = 0;

    int size = lines.size();
    vector<int> changeSec(size, 0);
    vector<int> changeSec_start(size, 0);
    
    for (int i = 0; i < size; ++i) {
        changeSec[i] += 3600000 * stoi(lines[i].substr(11, 2));
        changeSec[i] += 60000 * stoi(lines[i].substr(14, 2));
        changeSec[i] += (int)(1000 * stod(lines[i].substr(17, 6)));
        string tmp = lines[i].substr(24);
        tmp.pop_back();
        changeSec_start[i] = changeSec[i] - (int)(1000 * stod(tmp)) + 1;

        // test
        cout << i << '\n';
        cout << changeSec_start[i] << ", " << changeSec[i] << "\n\n";
    }

    for (int i = 0; i < size; ++i) {
        int cnt = 0;
        for (int j = i; j < size; ++j) {
            if (changeSec[j] - changeSec[i] >= 4000) {
                break;
            }
            if (changeSec_start[j] <= changeSec[i] + 999) {
                ++cnt;
            }
        }
        answer = max(answer, cnt);
    }

    return answer;
}

int main()
{
    // vector<string> vec = {
    //     "2016-09-15 01:00:04.001 2.0s",
    //     "2016-09-15 01:00:07.000 2s"
    // };
    // vector<string> vec = {
    //     "2016-09-15 01:00:04.002 2.0s",
    //     "2016-09-15 01:00:07.000 2s"
    // };
    vector<string> vec = {
        "2016-09-15 20:59:57.421 0.351s",
        "2016-09-15 20:59:58.233 1.181s",
        "2016-09-15 20:59:58.299 0.8s",
        "2016-09-15 20:59:58.688 1.041s",
        "2016-09-15 20:59:59.591 1.412s",
        "2016-09-15 21:00:00.464 1.466s",
        "2016-09-15 21:00:00.741 1.581s",
        "2016-09-15 21:00:00.748 2.31s",
        "2016-09-15 21:00:00.966 0.381s",
        "2016-09-15 21:00:02.066 2.62s"
    };
    cout << solution(vec) << '\n';

    return 0;
}
```

<hr>